<h2>Reactivos: <small>Din√°micos</small></h2>
<hr>

<form autocomplete="off" [formGroup]="miFormulario" (ngSubmit)="guardar()">

	<!-- Nombre -->
	<div class="row mb-3">
		<label class="col-sm-3 col-form-label">Nombre</label>
		<div class="col-sm-9">
			<input type="text"
				class="form-control"
				formControlName="nombre"
				placeholder="Nombre de la persona">

			<span *ngIf="campoValido( 'nombre' )" class="form-text text-danger">
				Este campo es obligatorio
			</span>
		</div>
	</div>

	<!-- Agregar favorito -->
	<div class="row mb-3">
		<label class="col-sm-3 col-form-label">Agregar</label>
		<div class="col-sm-9">
			<div class="input-group">
				<input class="form-control"
					placeholder="Agregar favorito"
					[formControl]="nuevoFavorito"
					(keyup.enter)="agregarFavorito()">

				<button type="button"
					class="btn btn-outline-primary"
					(click)="agregarFavorito()">
					Agregar
				</button>
			</div>
		</div>
	</div>

	<!-- Lista de juegos favoritos -->
	<div class="row mb-3">
		<label class="col-sm-3 col-form-label">Favoritos</label>
		<div class="col-sm-9" formArrayName="favoritos">

			<div *ngFor="let favorito of favoritosArr.controls; let i = index;"
				class="input-group mb-1">

				<input [formControlName]="i" class="form-control">
				
				<button type="button"
					class="btn btn-outline-danger"
					(click)="borrar(i)">
					Eliminar
				</button>
			</div>

		</div>
	</div>

	<div class="row">
		<div class="col-sm-12">
			<button type="button"
				class="btn btn-primary float-end"
				(click)="guardar()">
				Guardar
			</button>
		</div>
	</div>
</form>


<div class="row">
	<div class="col">
		<span>Valid</span>
		<pre>{{ miFormulario.valid }}</pre>

		<span>Value</span>
		<pre>{{ miFormulario.value | json }}</pre>

		<span>Agegar Juego</span>
		<pre>{{ nuevoFavorito.valid }}</pre>
		<pre>{{ nuevoFavorito.value }}</pre>
	</div>
</div>
